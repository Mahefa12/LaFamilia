<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin - La Familia</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { gold: '#d4af37', richblack: '#0a0a0a', charcoal: '#1a1a1a', ivory: '#f8f5ef' },
          letterSpacing: { luxury: '0.03em' },
          lineHeight: { luxury: '1.7' },
          fontFamily: { heading: ['Cormorant Garamond','serif'], body: ['Lato','Inter','sans-serif'] }
        }
      }
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet" />
  <style>
    :root { --gold: #d4af37; --richblack: #0a0a0a; --charcoal: #1a1a1a; --ivory: #f8f5ef; }
    body { font-family: 'Lato','Inter', sans-serif; background-color: var(--ivory); letter-spacing: 0.02em; line-height: 1.7; font-weight: 300; }
    .font-playfair { font-family: 'Cormorant Garamond', serif; }
    .btn-primary { background-color: var(--richblack); color: #fff; }
    .btn-gold { background-color: var(--gold); color: #000; }
  </style>
</head>
<body class="bg-ivory">
  <nav class="fixed top-0 left-0 right-0 z-50 bg-ivory/95 backdrop-blur-md shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div class="flex-shrink-0">
          <a href="index.html" class="flex items-center space-x-2">
            <img src="Images/Logo.jpg" alt="La Familia" class="h-8 w-auto" />
            <span class="font-playfair text-2xl font-black text-richblack tracking-luxury">La Familia</span>
          </a>
        </div>
        <div class="flex items-center gap-2">
          <a href="shop.html" class="px-3 py-2 rounded border">View Shop</a>
          <button id="adminLogout" class="px-3 py-2 rounded border">Logout</button>
        </div>
      </div>
    </div>
  </nav>

  <main class="pt-28 pb-24">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 w-[85%]">
      <h1 class="font-playfair text-3xl font-semibold mb-8 tracking-luxury text-richblack">Manage Products</h1>

      <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 mb-10">
        <div class="bg-white rounded-xl shadow-sm border border-gold/20 p-5">
          <div class="text-sm text-gray-500">Products</div>
          <div id="statProductCount" class="text-2xl font-semibold mt-1">0</div>
        </div>
        <div class="bg-white rounded-xl shadow-sm border border-gold/20 p-5">
          <div class="text-sm text-gray-500">Total Images</div>
          <div id="statTotalImages" class="text-2xl font-semibold mt-1">0</div>
        </div>
        <div class="bg-white rounded-xl shadow-sm border border-gold/20 p-5">
          <div class="text-sm text-gray-500">Last Updated</div>
          <div id="statLastUpdated" class="text-sm mt-1">â€”</div>
        </div>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 mb-10">
        <div class="bg-white rounded-xl shadow-sm border border-gold/20 p-5">
          <div class="text-sm text-gray-500">Total Stock</div>
          <div id="statTotalStock" class="text-2xl font-semibold mt-1">0</div>
        </div>
        <div class="bg-white rounded-xl shadow-sm border border-gold/20 p-5">
          <div class="text-sm text-gray-500">Sold Units (local)</div>
          <div id="statSoldUnits" class="text-2xl font-semibold mt-1">0</div>
        </div>
        <div class="bg-white rounded-xl shadow-sm border border-gold/20 p-5">
          <div class="text-sm text-gray-500">Low Stock Warnings</div>
          <div id="statLowStock" class="text-2xl font-semibold mt-1">0</div>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <form id="productForm" class="bg-white p-6 rounded-xl shadow-sm space-y-4">
          <h2 class="text-lg font-semibold">Add / Edit Product</h2>
          <input type="hidden" id="productIdHidden" />
          <div>
            <label for="productId" class="block text-sm font-semibold mb-1">ID</label>
            <input id="productId" type="text" class="w-full border rounded-lg px-4 py-3" required />
          </div>
          <div>
            <label for="productName" class="block text-sm font-semibold mb-1">Name</label>
            <input id="productName" type="text" class="w-full border rounded-lg px-4 py-3" required />
          </div>
          <div>
            <label for="productPrice" class="block text-sm font-semibold mb-1">Price</label>
            <input id="productPrice" type="number" min="0" step="1" class="w-full border rounded-lg px-4 py-3" required />
          </div>
          <div>
            <label class="block text-sm font-semibold mb-1">Collections</label>
            <div class="grid grid-cols-2 gap-2">
              <label for="colBags" class="flex items-center gap-2"><input type="checkbox" id="colBags"/> <span>Bags</span></label>
              <label for="colAccessories" class="flex items-center gap-2"><input type="checkbox" id="colAccessories"/> <span>Accessories</span></label>
              <label for="colLimited" class="flex items-center gap-2"><input type="checkbox" id="colLimited"/> <span>Limited Editions</span></label>
              <label for="colLookbook" class="flex items-center gap-2"><input type="checkbox" id="colLookbook"/> <span>Lookbook</span></label>
            </div>
          </div>
          <div>
            <label class="block text-sm font-semibold mb-1">Variants</label>
            <div id="variantList" class="space-y-2"></div>
            <button type="button" id="addVariantBtn" class="px-3 py-2 rounded border mt-2">Add Variant</button>
          </div>
          <div>
            <label for="productImages" class="block text-sm font-semibold mb-1">Images</label>
            <input id="productImages" type="file" accept="image/*" multiple class="w-full border rounded-lg px-4 py-3" aria-describedby="imagesHelp" />
            <div class="text-xs text-gray-500 mt-1">Drag thumbnails to reorder</div>
            <div id="imagePreview" class="mt-2 flex gap-2 flex-wrap"></div>
          </div>
          <div>
            <label for="productDesc" class="block text-sm font-semibold mb-1">Description</label>
            <textarea id="productDesc" class="w-full border rounded-lg px-4 py-3" rows="3" placeholder="Short description"></textarea>
          </div>
          <div class="flex gap-3">
            <button type="submit" class="btn-primary px-6 py-3 rounded-lg font-semibold">Save</button>
            <button type="button" id="productReset" class="px-6 py-3 rounded-lg border">Reset</button>
          </div>
        </form>

        <div class="bg-white p-6 rounded-xl shadow-sm border border-gold/10">
          <h2 class="text-lg font-semibold mb-4">Products</h2>
          <div id="adminProducts" class="space-y-3"></div>
        </div>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.2/Sortable.min.js"></script>
  <script src="main.js"></script>
</body>
</html>
